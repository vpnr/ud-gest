<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="fragments/header :: header"></head>
<body>
	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"
		th:include="fragments/menu :: menu"></nav>
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<h1 class="page-header">Ajouter adhérent</h1>
				<ol class="breadcrumb">
					<li><a th:href="@{/ud-gest/show-adherent-search}">Rechercher adherent</a></li>
					<li class="active">Ajouter adhérent</li>
				</ol>
			</div>
		</div>
		<div class='row'>
			<form class="form-horizontal" method="post" th:object="${adherent}" th:action="@{/ud-gest/save-adherent}">
				<div class='row'>
					<div class="col-lg-12 form-group-adherent">
						<p class="fa fa-inverse">Informations personnelles</p>
					</div>
				</div>
				<div class='row'>
					<div class="col-lg-6">
						<div class="form-group">
							<label for="nom" class="col-sm-2 control-label">Nom :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{nom}" id="nom_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="prenom" class="col-sm-2 control-label">Prénom :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{prenom}" id="prenom_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="dob" class="col-sm-2 control-label">Dob :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{dob}" id="dob_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="tel" class="col-sm-2 control-label">Téléphone
								:</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{tel}" id="tel_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="mail" class="col-sm-2 control-label">Mail :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{mail}" id="mail_adherent"></input>
							</div>
						</div>
					</div>
					<div class="col-lg-6">
						<div class="form-group">
							<label for="num_rue" class="col-sm-2 control-label">N° :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{numeroRue}" id="num_rue_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="rue" class="col-sm-2 control-label">Rue :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{libelleRue}" id="rue_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="dob" class="col-sm-2 control-label">Cp :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{cp}" id="cp_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="tel" class="col-sm-2 control-label">Ville :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{ville}" id="ville_adherent"></input>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-12">
						<div class="form-group-entreprise">
							<span class="fa fa-inverse">Entreprise</span>
						</div>
					</div>
				</div>
				<input type="hidden" th:field="*{entreprise.id}" value="1"></input>
				<div id="div_entreprise">
					<div class='row'>
						<div class="col-lg-6">
							<div class="form-group">
								<label for="libelle" class="col-sm-2 control-label">Libellé :</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" th:field="*{entreprise.libelle}" id="libelle_entreprise"></input>
								</div>
							</div>
							<div class="form-group">
								<label for="date_election" class="col-sm-2 control-label">Elections :</label>
								<div class="col-sm-8">
									<input th:type="date" class="form-control" th:field="*{entreprise.dateElection}" id="date_election"></input>
								</div>
							</div>
							<div class="form-group">
								<label for="tel" class="col-sm-2 control-label">Téléphone :</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" th:field="*{entreprise.tel}" id="tel_entreprise"></input>
								</div>
							</div>
							<div class="form-group">
								<label for="fax" class="col-sm-2 control-label">Fax :</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" th:field="*{entreprise.fax}" id="fax_entreprise"></input>
								</div>
							</div>
							<div class="form-group">
								<label for="mail" class="col-sm-2 control-label">Mail :</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" th:field="*{entreprise.mail}" id="mail_entreprise"></input>
								</div>
							</div>
							<div class="form-group">
								<label for="mail" class="col-sm-2 control-label">Web :</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" th:field="*{entreprise.siteWeb}" id="web_entreprise"></input>
								</div>
							</div>
						</div>
						<div class="col-lg-6">
							<div class="form-group">
								<label for="num_rue" class="col-sm-2 control-label">N° :</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" th:field="*{entreprise.numeroRue}" id="num_rue_entreprise"></input>
								</div>
							</div>
							<div class="form-group">
								<label for="rue" class="col-sm-2 control-label">Rue :</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" th:field="*{entreprise.libelleRue}" id="rue_entreprise"></input>
								</div>
							</div>
							<div class="form-group">
								<label for="cp" class="col-sm-2 control-label">Cp :</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" th:field="*{entreprise.cp}" id="cp_entreprise"></input>
								</div>
							</div>
							<div class="form-group">
								<label for="ville" class="col-sm-2 control-label">Ville :</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" th:field="*{entreprise.ville}" id="ville_entreprise"></input>
								</div>
							</div>
							<div class="form-group">
								<label for="ville" class="col-sm-2 control-label"></label>
								<div class="col-sm-8 text-right">
									<input type="button" id="clear_form_entreprise" class="btn btn-success btn-md" value="Effacer"></input>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-12">
						<div class="form-group-entreprise">
							<span class="fa fa-inverse">Syndicat</span>
						</div>
					</div>
				</div>
<!-- 				<div class="row"> -->
<!-- 					<div class="col-lg-6"> -->
<!-- 						<div class="form-group"> -->
<!-- 							<label for="libelle" class="col-sm-2 control-label">Libellé :</label> -->
<!-- 							<div class="col-sm-8"> -->
<!-- 								<select class="form-control" th:field="*{syndicat}" id="libelle_syndicat"> -->
<!-- 									<option th:each="syndicat : ${syndicats}" th:value="${syndicat}" th:text="${syndicat.libelle}" contenteditable="true"></option> -->
<!-- 								</select> -->
<!-- 							</div> -->
<!-- 							<input type="button" id="add_syndicat" class="btn btn-success btn-md" value="Ajouter"></input> -->
<!-- 						</div> -->
<!-- 					</div> -->
<!-- 				</div> -->
				<div class="row">
					<div class="col-xs-12">
						<button type="submit" class="btn btn-secondary">Ajouter</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</body>
<div th:include="fragments/footer :: footer"></div>
	<!-- jquery autocomplete pluggin -->
	<script src="js/jquery.easy-autocomplete.min.js" th:src="@{/js/jquery.easy-autocomplete.min.js}"></script>
		
	<script type="text/javascript">
	$(function() {
		
		$("#clear_form_entreprise").click(function() {
			$("#libelle_entreprise").val("");
			$("#libelle_entreprise").prop("disabled", false);
			$("#id_entreprise").val("");
			$("#id_entreprise").prop("disabled", false);
			$("#num_rue_entreprise").val("");
			$("#num_rue_entreprise").prop("disabled", false);
			$("#date_election").text("");
			$("#date_election").prop("disabled", false);
			$("#rue_entreprise").val("");
			$("#rue_entreprise").prop("disabled", false);
			$("#cp_entreprise").val("");
			$("#cp_entreprise").prop("disabled", false);
			$("#ville_entreprise").val("");
			$("#ville_entreprise").prop("disabled", false);
			$("#tel_entreprise").val("");
			$("#tel_entreprise").prop("disabled", false);
			$("#fax_entreprise").val("");
			$("#fax_entreprise").prop("disabled", false);
			$("#mail_entreprise").val("");
			$("#mail_entreprise").prop("disabled", false);
			$("#web_entreprise").val("");
			$("#web_entreprise").prop("disabled", false);
		});


	    /** autocompletion pour l'entreprise **/
		var optionsEntreprise = {
			url : function(motCle) {
				return "search-entreprise-ajax";
			},
			getValue : function(element) {
				return element.libelle;
			},
			ajaxSettings : {
				dataType : "json",
				method : "POST",
				data : {
					dataType : "json"
				}
			},
			preparePostData : function(data) {
				data.motCle = $("#libelle_entreprise").val();
				return data;
			},
			list : {
				onChooseEvent : function() {
					var entreprise = $("#libelle_entreprise").getSelectedItemData();
					$("#libelle_entreprise").prop("disabled", true);
					$("#id_entreprise").val(entreprise.id);
					$("#id_entreprise").prop("disabled", true);
					$("#num_rue_entreprise").val(entreprise.numeroRue);
					$("#num_rue_entreprise").prop("disabled", true);
					$("#date_election").val(entreprise.dateElection);
					$("#date_election").prop("disabled", true);
					$("#rue_entreprise").val(entreprise.libelleRue);
					$("#rue_entreprise").prop("disabled", true);
					$("#cp_entreprise").val(entreprise.cp);
					$("#cp_entreprise").prop("disabled", true);
					$("#ville_entreprise").val(entreprise.ville);
					$("#ville_entreprise").prop("disabled", true);
					$("#tel_entreprise").val(entreprise.tel);
					$("#tel_entreprise").prop("disabled", true);
					$("#fax_entreprise").val(entreprise.fax);
					$("#fax_entreprise").prop("disabled", true);
					$("#mail_entreprise").val(entreprise.fax);
					$("#mail_entreprise").prop("disabled", true);
					$("#web_entreprise").val(entreprise.siteWeb);
					$("#web_entreprise").prop("disabled", true);
				}
			},
			requestDelay : 10
		};
		$("#libelle_entreprise").easyAutocomplete(optionsEntreprise);
	});

	</script>
</html>
